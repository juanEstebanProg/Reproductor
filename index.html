<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1db954">
    <title>Mi Reproductor de MÃºsica</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Iconos -->
    <link rel="icon" type="image/png" sizes="192x192" href="./icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="./icons/icon-512.png">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>ğŸµ Mi MÃºsica</h1>
            <div class="header-right">
                <button id="uploadBtn" class="upload-btn">+ AÃ±adir MÃºsica</button>
                <button id="folderBtn" class="folder-btn" title="Seleccionar carpeta de mÃºsica">ğŸ“ Carpeta de MÃºsica</button>
                <button id="clearDuplicatesBtn" class="optimize-btn" title="Eliminar duplicados">ğŸ§¹</button>
                <button id="releaseMemoryBtn" class="optimize-btn" title="Liberar memoria">ğŸ—‘ï¸</button>
                <button id="showStatsBtn" class="optimize-btn" title="Mostrar estadÃ­sticas">ğŸ“Š</button>
                <button id="clearPlaylistBtn" class="optimize-btn" title="Limpiar toda la playlist">ğŸ§½</button>
                <input type="file" id="fileInput" accept="audio/*" multiple style="display: none;">
                <input type="file" id="folderInput" webkitdirectory directory multiple style="display: none;">
            </div>
        </header>

        <!-- Reproductor Principal -->
        <div class="player-card">
            <!-- InformaciÃ³n de la canciÃ³n -->
            <div class="song-info">
                <div class="album-art" id="albumArt">
                    <div class="default-icon">ğŸµ</div>
                </div>
                <div class="song-details">
                    <h3 id="songTitle">Selecciona una canciÃ³n</h3>
                    <p id="songArtist">Artista desconocido</p>
                </div>
            </div>

            <!-- Controles de ReproducciÃ³n -->
            <div class="controls">
                <button id="shuffleBtn" class="control-btn" title="Aleatorio">ğŸ”€</button>
                <button id="prevBtn" class="control-btn" title="Anterior">â®ï¸</button>
                <button id="playBtn" class="play-btn" title="Reproducir/Pausar">â–¶ï¸</button>
                <button id="nextBtn" class="control-btn" title="Siguiente">â­ï¸</button>
                <button id="repeatBtn" class="control-btn" title="Repetir">ğŸ”</button>
            </div>

            <!-- Barra de Progreso -->
            <div class="progress-container">
                <span id="currentTime">0:00</span>
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
                <span id="duration">0:00</span>
            </div>

            <!-- Control de Volumen -->
            <div class="volume-container">
                <span>ğŸ”Š</span>
                <input type="range" id="volumeSlider" min="0" max="100" value="50">
                <span id="volumeValue">50%</span>
            </div>
        </div>

        <!-- Lista de ReproducciÃ³n -->
        <div class="playlist">
            <h2>Lista de ReproducciÃ³n</h2>
            <div id="playlistContainer" class="playlist-container">
                <div class="empty-playlist">
                    <p>ğŸ“ No hay canciones</p>
                    <p>Haz clic en "AÃ±adir MÃºsica" para cargar tus archivos</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2024 Mi Reproductor - MiniMax Agent</p>
        </footer>
    </div>

    <!-- Audio Element -->
    <audio id="audioPlayer" preload="metadata"></audio>

    <!-- Scripts -->
    <script src="./script.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('SW registrado exitosamente:', registration.scope);
                    })
                    .catch((registrationError) => {
                        console.log('Error al registrar SW:', registrationError);
                    });
            });
        }
    </script>
</body>
</html>
